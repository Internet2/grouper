<?xml version="1.0" encoding="utf-8"?>

<ldappc>
  <grouper>
   
    <group-queries>
      <subordinate-stem-queries>
        <stem-list>
          <stem>edu</stem>
        </stem-list>
      </subordinate-stem-queries>
    </group-queries>
   
    <groups structure="bushy" root-dn="ou=testgroups,${base}" ldap-object-class="groupOfNames"
            ldap-rdn-attribute="cn" grouper-attribute="name" provision-member-groups="true"
            provision-groups-two-step="true" bundle-modifications="true" >
   
      <group-members-dn-list list-object-class="groupOfNames" list-attribute="member" list-empty-value=""/>
   
      <group-members-name-list list-object-class="eduMember" list-attribute="hasMember" >
        <source-subject-name-mapping>
          <source-subject-name-map source="jdbc" subject-attribute="lfname" />
          <source-subject-name-map source="g:gsa" subject-attribute="name" />
        </source-subject-name-mapping>
      </group-members-name-list>

      <group-attribute-mapping ldap-object-class="groupOfNames">
      	<group-attribute-map group-attribute="description" ldap-attribute="description" />
      </group-attribute-mapping>
      
      <attribute-resolver-mapping ldap-object-class="groupOfNames">
        <attribute-resolver-map resolver-attribute="objectclass" ldap-attribute="objectclass" />
      </attribute-resolver-mapping>

    </groups>
    
    <memberships>
    	<member-groups-list list-object-class="eduMember" list-attribute="isMemberOf" naming-attribute="name" temporary-directory="tmp" />
    </memberships>
    
  </grouper>

  <source-subject-identifiers>    
    <source-subject-identifier source="jdbc" subject-attribute="id">
      <ldap-search base="ou=testpeople,${base}" scope="subtree_scope" filter="(cn={0})" />
    </source-subject-identifier>  
  </source-subject-identifiers>

  <ldap>
    <context>
      <parameter-list>
        <parameter name="initial_context_factory" value="${initial_context_factory}" />
        <parameter name="provider_url" value="${provider_url}" />
        <parameter name="security_authentication" value="${security_authentication}" />
        <parameter name="security_principal" value="${security_principal}" />
        <parameter name="security_credentials" value="${security_credentials}" />
      </parameter-list>
    </context>
  </ldap>

</ldappc>
