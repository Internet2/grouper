<?xml version="1.0" encoding="utf-8"?>

<!-- 
    * This is a valid configuration file except that there is no "ldappc" element.
-->
<Xldappc>
    <!-- 
        *
        * <source-subject-identifiers> is a required element identifying by
        * Subject Source how a Subject's LDAP entry is located. It contains
        * one or more of the following element.
        *
        *    <source-subject-identifier> - This required element identifies
        *       for a Subject Source how to locate a Subject's LDAP entry.
        *       One of these elements is to be defined for each Source.
    -->
    <source-subject-identifiers><!-- exactly 1 required -->

        <!-- 
            *
            * <source-subject-identifier> is a required element that identifies
            * for a given Subject Source the Subject naming attribute to be used for 
            * identifying Subjects in the directory, and an LDAP search filter
            * that will uniquely identify Subjects for the Source using the
            * given naming attribute value. It requires two attributes that define
            * the Subject Source and the Subject naming attribute.
            *
            *   source - The name of the Subject Source (e.g., "g:gsa")
            *
            *   subject-attribute - The name of the Subject naming attribute to
            *      be used (e.g., "account")
            * 
            * <source-subject-identifier> contains the following element.
            * 
            *     <ldap-search> - This required element identifies the LDAP search
            *        criteria for finding a Subject's entry.
        -->
        <!-- 
            *
            * <ldap-search> is a required element containing a parameterized
            * LDAP search filter that uniquely identifies a Subject from the
            * Subject Source. It has three required attributes defined below.
            *
            *   base - Identifies the DN of the context or object to search
            *      (e.g., cn=tom,dc=example,dc=edu).
            *
            *   scope - Identifies the scope of the search.  The valid values
            *      are, ignoring case, the names of the JNDI scope constants
            *      defined in the class javax.naming.directory.SearchContext.
            *      These are object_scope, onelevel_scope, and subtree_scope.
            *
            *   filter - Parameterized search filter (e.g., (&(uid={0})(objectclass=ucperson)))
            *      The string "{0}" will be replaced by the value of Subject's
            *      attribute identified by subject-attribute in
            *      source-subject-identifier element.
        -->

        <source-subject-identifier source="source1"
            subject-attribute="subjectAttr1">
            <!-- 1 or more required -->
            <ldap-search base="ldapSearchBase1" scope="object_scope"
                filter="ldapSearchFilter1" />
            <!-- exactly 1 required -->
        </source-subject-identifier>

        <source-subject-identifier source="source2"
            subject-attribute="subjectAttr2">
            <!-- 1 or more required -->
            <ldap-search base="ldapSearchBase2" scope="subtree_scope"
                filter="ldapSearchFilter2" />
            <!-- exactly 1 required -->
        </source-subject-identifier>

    </source-subject-identifiers>

</Xldappc>
