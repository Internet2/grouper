# Grouper FAQ

$Id: FAQ,v 1.17 2004-12-09 18:29:18 blair Exp $

---

## Using The API

### Environment

#### Q: How do I access _Grouper_ configuration parameters?

A: Use the `Grouper.config()` method.

    String namingInterfaceKlass = Grouper.config("interface.naming");

---

### Subjects

#### Q: How do I retrieve a a subject of type _person_?

A: Use the `GrouperSubject.load()` method.

    Subject subj = GrouperSubject.load(subjID);

#### Q: How do I retrieve a subject of type _group_?

A: Use the `GrouperSubject.load()` method.

    GrouperGroup g  = GrouperGroup.load(s, stem, extn);
    Subject subj    = GrouperSubject.load(g.id(), "group");

---

### Sessions

#### Q: How do I start a session?

A: Use the `GrouperSession.start()` method.

    GrouperSession s = GrouperSession.start(subj);

#### Q: How do I stop a session?

A: Use the `GrouperSession.stop()` method.

    s.stop();

---

### Groups

#### Q: How do I create a namespace?

A: Use the `GrouperGroup.create()` method.

    GrouperGroup ns = GrouperGroup.create(s, stem, extn, "naming");    

#### Q: How do I create a group?

A: Use the `GrouperGroup.create()` method.

    GrouperGroup g = GrouperGroup.create(s, stem, extn);

#### Q: How do I retrieve a group by stem and extension?

A: Use the `GrouperGroup.load()` method.

    GrouperGroup g = GrouperGroup.load(s, stem, extn);

#### Q: How do I retrieve a group by name?

A: Use the `GrouperGroup.loadByName()` method.

    GrouperGroup g = GrouperGroup.loadByName(s, name);

#### Q: How do I retrieve a group by GUID?

A: Use the `GrouperGroup.loadByID()` method.

    GrouperGroup g = GrouperGroup.loadByID(s, guid);

#### Q: How do I delete a group?

A: Use the `GrouperGroup.delete()` method.

    GrouperGroup.delete(s, g);

#### Q: How do I add a list value?

A: Use the `GrouperGroup.listAddVal()` method.

    g.listAddVal(s, m);

#### Q: How do I delete a list value?

A: Use the `GrouperGroup.listDelVal()` method.

    g.listDelVal(s, m);

#### Q: How do I retrieve a group's members?

A: Use the `GrouperGroup.listVals()` method.

    List members = g.listVals(s);

#### Q: How do I retrieve a group's immediate members?

A: Use the `GrouperGroup.listImmVals()` method.

    List immediateMembers = g.listImmVals(s);

#### Q: How do I retrieve a group's effective members?

A: Use the `GrouperGroup.listEffVals()` method.

    List effectiveMembers = g.listEffVals(s);

#### Q: How do I retrieve a group attribute?

A: Use the `GrouperGroup.attribute()` method.

    GrouperAttribute attr = g.attribute("description");

#### Q: How do I set a group attribute?

A: Use the `GrouperGroup.attribute()` method.

    g.attribute("description", "this is a sample description");

#### Q: How do I delete a group attribute?

A: Use the `GrouperGroup.attribute()` method.

    g.attribute("description", null);

#### Q: How do I see when a group was created?

A: Use the `GrouperGroup.createTime()` method.

    Date created = g.createTime();

#### Q: How do I see who created a group?

A: Use the `GrouperGroup.createSubject()` method.

    Subject creator = g.createSubject();

#### Q: How do I see when a group was modifed?

A: Use the `GrouperGroup.modifyTime()` method.

    Date modified = g.modifyTime();

#### Q: How do I see who last modified a group?

A: Use the `GrouperGroup.modifySubject()` method.

    Subject modifier = g.modifySubject();

---

### Members

#### Q: How do I convert a _Subject_ object into a _GrouperMember_ object?

A: Use the `GrouperMember.load()` method.

    Subject       subj  = GrouperSubject.load(subjID, subjType);
    GrouperMember m     = GrouperMember.load(subj);

### Q: How do I convert a _Subject_ id and type into a _GrouperMember_ object?

A: Use the `GrouperMember.load()` method.

    GrouperMember m = GrouperMember.load(id, type);

#### Q: How do I retrieve a member's memberships?

A: Use the `GrouperMember.listVals()` method.

    List mships = m.listVals(s);

#### Q: How do I retrieve a member's immediate memberships?

A: Use the `GrouperMember.listImmVals()` method.

    List immediateMships = m.listImmVals(s);

#### Q: How do I retrieve a member's effective memberships?

A: Use the `GrouperMember.listEffVals()` method.

    List effectiveMships = m.listEffVals(s);

---

### List Values

#### Q: How do I retrieve a _GrouperGroup_ object from a _GrouperList_ result?

A: Use the `GrouperList.group()` method.

    GrouperGroup g = (GrouperGroup) gl.group();

#### Q: How do I retrieve a _GrouperMember_ object from a _GrouperList_ result?

A: Use the `GrouperList.member()` method.

    GrouperMember m = (GrouperGroup) gl.member();

#### Q: How do I retrieve the _via_ group from a _GrouperList_ result?

A: Use the `GrouperList.via()` method.

    GrouperGroup via = (GrouperGroup) gl.via();

---

### Privileges - Access

#### Q: How do I grant an access privilege?

A: Use the `Grouper.access().grant()` method.

    Grouper.access().grant(s, g, m, Grouper.PRIV_UPDATE);

#### Q: How do I revoke an access privilege?

A: Use the `Grouper.access().revoke()` method.

    Grouper.access().revoke(s, g, m, Grouper.PRIV_ADMIN);

---

### Privileges - Naming

#### Q: How do I grant a naming privilege?

A: Use the `Grouper.naming().grant()` method.

    Grouper.naming().grant(s, ns, m, Grouper.PRIV_STEM);

#### Q: How do I revoke a naming privilege?

A: Use the `Grouper.access().revoke()` method.

    Grouper.naming().revoke(s, ns, m, Grouper.PRIV_CREATE);

---

### Queries

#### Q: How do I use the _GrouperQuery_ class?

A: You will need to instantiate a _GrouperQuery_ object, set one or
more filters, and then query for results.

    GrouperQuery q = new GrouperQuery(s);

    // We want all groups created since yesterday
    Date now        = new Date();
    Date yesterday  = new Date(now.getTime() - 86400000);
    q.createdAfter(yesterday);

    // That are of type DEF_GROUP_TYPE
    q.groupType(Grouper.DEF_GROUP_TYPE);

    // And that have one or more members
    q.membershipType(Grouper.MEM_ALL);

    List results = q.query();

#### Q: How do I reset a query filter?

A: Use the `GrouperQuery.clear()' method.

    // Clear the _createdAfter_ filter.
    q.clear("createdAfter");
    
#### Q: How do I reset all query filters?

A: Use the `GrouperQuery.clear()' method.

    // Clear all query filters for this query object.
    q.clear();

