# Grouper FAQ

A preliminary Grouper usage FAQ.

$Id: FAQ,v 1.22 2005-09-03 04:26:40 blair Exp $

---

## Groups

### Q: How do I retrieve a group attribute?

A: Use the `GrouperGroup.attribute()` method.

    GrouperAttribute attr = g.attribute("description");

### Q: How do I set a group attribute?

A: Use the `GrouperGroup.attribute()` method.

    g.attribute("description", "this is a sample description");

### Q: How do I delete a group attribute?

A: Use the `GrouperGroup.attribute()` method.

    g.attribute("description", null);

### Q: How do I see when a group was created?

A: Use the `GrouperGroup.createTime()` method.

    Date created = g.createTime();

### Q: How do I see who created a group?

A: Use the `GrouperGroup.createSubject()` method.

    Subject creator = g.createSubject();

### Q: How do I see when a group was modifed?

A: Use the `GrouperGroup.modifyTime()` method.

    Date modified = g.modifyTime();

### Q: How do I see who last modified a group?

A: Use the `GrouperGroup.modifySubject()` method.

    Subject modifier = g.modifySubject();

---

## Members

### Q: How do I convert a _Subject_ object into a _GrouperMember_ object?

A: Use the `GrouperMember.load()` method.

    Subject       subj  = SubjectFactory.getSubject(subjID, subjType);
    GrouperMember m     = GrouperMember.load(subj);

### Q: How do I convert a session's _Subject_ into a member?

A: Use the GrouperSession.getMember()` method.

    GrouperSession  s = GrouperSession.start(
      SubjectFactory.getSubject(id, type)
    );
    GrouperMember   m = s.getMember();

## Q: How do I convert a _Subject_ id and type into a _GrouperMember_ object?

A: Use the `GrouperMember.load()` method.

    GrouperMember m = GrouperMember.load(id, type);

### Q: How do I retrieve a member's memberships?

A: Use the `GrouperMember.listVals()` method.

    List mships = m.listVals(s);

### Q: How do I retrieve a member's immediate memberships?

A: Use the `GrouperMember.listImmVals()` method.

    List immediateMships = m.listImmVals(s);

### Q: How do I retrieve a member's effective memberships?

A: Use the `GrouperMember.listEffVals()` method.

    List effectiveMships = m.listEffVals(s);

---

## List Values

### Q: How do I retrieve a _GrouperGroup_ object from a _GrouperList_ result?

A: Use the `GrouperList.group()` method.

    GrouperGroup g = (GrouperGroup) gl.group();

### Q: How do I retrieve a _GrouperMember_ object from a _GrouperList_ result?

A: Use the `GrouperList.member()` method.

    GrouperMember m = (GrouperGroup) gl.member();

### Q: How do I retrieve the _via_ group from a _GrouperList_ result?

A: Use the `GrouperList.via()` method.

    GrouperGroup via = (GrouperGroup) gl.via();

---

## Privileges - Access

### Q: How do I grant an access privilege?

A: Use the `Grouper.access().grant()` method.

    s.access().grant(s, g, m, Grouper.PRIV_UPDATE);

### Q: How do I revoke an access privilege?

A: Use the `Grouper.access().revoke()` method.

    s.access().revoke(s, g, m, Grouper.PRIV_ADMIN);

---

## Privileges - Naming

### Q: How do I grant a naming privilege?

A: Use the `Grouper.naming().grant()` method.

    s.naming().grant(s, ns, m, Grouper.PRIV_STEM);

### Q: How do I revoke a naming privilege?

A: Use the `Grouper.access().revoke()` method.

    s.naming().revoke(s, ns, m, Grouper.PRIV_CREATE);

---

## Queries

### Q: How do I use the _GrouperQuery_ class?

A: You will need to instantiate a _GrouperQuery_ object, set one or
more filters, and then query for results.

    GrouperQuery q = new GrouperQuery(s);

    // We want all groups created since yesterday
    Date now        = new Date();
    Date yesterday  = new Date(now.getTime() - 86400000);
    q.createdAfter(yesterday);

    // That are of type DEF_GROUP_TYPE
    q.groupType(Grouper.DEF_GROUP_TYPE);

    // And that have one or more members
    q.membershipType(Grouper.MEM_ALL);

    List results = q.query();

### Q: How do I reset a query filter?

A: Use the `GrouperQuery.clear()' method.

    // Clear the _createdAfter_ filter.
    q.clear("createdAfter");
    
### Q: How do I reset all query filters?

A: Use the `GrouperQuery.clear()' method.

    // Clear all query filters for this query object.
    q.clear();

