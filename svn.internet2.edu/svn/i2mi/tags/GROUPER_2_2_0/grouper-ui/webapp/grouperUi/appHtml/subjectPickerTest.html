<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
  
    <script>

      function grouperSubjectSelected(elementName,subjectId,subjectDescription, pickerResultSubject) {

        subjectDescription = escapeHtml(subjectDescription);
        subjectId = escapeHtml(subjectId);
        if (pickerResultSubject.subject.attributes.loginid) {
          alert(pickerResultSubject.subject.attributes.loginid[0]);
        }
        if (pickerResultSubject.subject.attributes.lfname) {
          alert(pickerResultSubject.subject.attributes.lfname[0]);
        }
        if (pickerResultSubject.subject.name) {
          alert(pickerResultSubject.subject.name);
        }
        
        //alert(pickerResultSubject);
        document.getElementById(elementName + "DescriptionSpanId").innerHTML = subjectDescription;
        
        if (elementName == 'subject1') {
          document.getElementById(elementName + "IdSpanId").innerHTML = subjectId;           
        } else if (elementName == 'subject2') {
          document.getElementById(elementName + "IdSpanId").value = subjectId;
        } else {
          alert("ERROR: Cant find elementName: " + elementName);
        }

      }
    
      /** convert input into a non-null string */
      function escapeHtml(input) {
        input = input.replace(/&/g,  "&amp;");
        input = input.replace(/</g,  "&lt;");
        input = input.replace(/>/g,  "&gt;");
        return input;
      }
    </script>
  
  </head>


  <body>
  
  1. 
    Subject ID: <span id="subject1IdSpanId"></span>
    <br />
    <br />
    Subject description: <span id="subject1DescriptionSpanId"></span>
    <br />
    <br />
    <button onclick="theWindow = window.open('http://localhost:8091/grouper/grouperUi/appHtml/grouper.html?operation=SubjectPicker.index&subjectPickerName=whatever&subjectPickerElementName=subject1','newWindow', 'scrollbars,resizable,width=600,height=500'); theWindow.focus(); return false;">Find person</button>
    <br />
    <br />
  2. 
    Subject ID: <input type="text" id="subject2IdSpanId" />
    <br />
    <br />
    Subject description: <span id="subject2DescriptionSpanId"></span>
    <br />
    <br />
    <button onclick="window.open('http://localhost:8091/grouper/grouperUi/appHtml/grouper.html?operation=SubjectPicker.index&subjectPickerName=whatever&subjectPickerElementName=subject2','newWindow'); return false;">Find person</button>
    <br />
    <br />
    
  
  </body>

</html>