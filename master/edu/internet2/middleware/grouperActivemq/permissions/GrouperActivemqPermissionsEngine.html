<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Wed Jan 13 09:30:25 UTC 2016 -->
<title>GrouperActivemqPermissionsEngine</title>
<meta name="date" content="2016-01-13">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="GrouperActivemqPermissionsEngine";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionAction.html" title="enum in edu.internet2.middleware.grouperActivemq.permissions"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionsEngine.html" target="_top">Frames</a></li>
<li><a href="GrouperActivemqPermissionsEngine.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.internet2.middleware.grouperActivemq.permissions</div>
<h2 title="Class GrouperActivemqPermissionsEngine" class="title">Class GrouperActivemqPermissionsEngine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.internet2.middleware.grouperActivemq.permissions.GrouperActivemqPermissionsEngine</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.quartz.Job, org.quartz.StatefulJob</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">GrouperActivemqPermissionsEngine</span>
extends java.lang.Object
implements org.quartz.Job, org.quartz.StatefulJob</pre>
<div class="block">keep track of all permissions.  It retrieves permissions from Grouper, 
 caches them in memory, and periodically stores them to disk too.  There are two files 
 on disk, in case one doesnt get written fully.  At the end of the file is a success
 flag so we know it is complete.  It is failsafe, if Grouper has a problem, and there
 is a copy in memory or disk, then it will still work.  I believe the disk store is
 only read on startup, but Im not sure.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionsEngine.html#GrouperActivemqPermissionsEngine(java.util.Map)">GrouperActivemqPermissionsEngine</a></strong>(java.util.Map&lt;java.lang.String,java.util.Set&lt;<a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermission.html" title="class in edu.internet2.middleware.grouperActivemq.permissions">GrouperActivemqPermission</a>&gt;&gt;&nbsp;cachedGrouperActivemqPermissions1)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionsEngine.html#execute(org.quartz.JobExecutionContext)">execute</a></strong>(org.quartz.JobExecutionContext&nbsp;context)</code>
<div class="block">this will be run when the quertz nightly job fires</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionsEngine.html#hasAnyPermission(java.lang.String)">hasAnyPermission</a></strong>(java.lang.String&nbsp;user)</code>
<div class="block">if the user has any permission</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionsEngine.html#hasPermission(java.lang.String,%20edu.internet2.middleware.grouperActivemq.permissions.GrouperActivemqPermissionAction,%20java.lang.String)">hasPermission</a></strong>(java.lang.String&nbsp;user,
             <a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionAction.html" title="enum in edu.internet2.middleware.grouperActivemq.permissions">GrouperActivemqPermissionAction</a>&nbsp;action,
             java.lang.String&nbsp;destination)</code>
<div class="block">all permissions for activemq.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionsEngine.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionsEngine.html#startupOnce()">startupOnce</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GrouperActivemqPermissionsEngine(java.util.Map)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GrouperActivemqPermissionsEngine</h4>
<pre>public&nbsp;GrouperActivemqPermissionsEngine(java.util.Map&lt;java.lang.String,java.util.Set&lt;<a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermission.html" title="class in edu.internet2.middleware.grouperActivemq.permissions">GrouperActivemqPermission</a>&gt;&gt;&nbsp;cachedGrouperActivemqPermissions1)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cachedGrouperActivemqPermissions1</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="hasAnyPermission(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasAnyPermission</h4>
<pre>public static&nbsp;boolean&nbsp;hasAnyPermission(java.lang.String&nbsp;user)</pre>
<div class="block">if the user has any permission</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - is the user to check</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the user has any permission</dd></dl>
</li>
</ul>
<a name="hasPermission(java.lang.String, edu.internet2.middleware.grouperActivemq.permissions.GrouperActivemqPermissionAction, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasPermission</h4>
<pre>public static&nbsp;boolean&nbsp;hasPermission(java.lang.String&nbsp;user,
                    <a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionAction.html" title="enum in edu.internet2.middleware.grouperActivemq.permissions">GrouperActivemqPermissionAction</a>&nbsp;action,
                    java.lang.String&nbsp;destination)</pre>
<div class="block">all permissions for activemq.  See if the user has the action and destination.
 Note, if there is an internal permissions in ActiveMQ for the user, it is allowed (if supposed to be),
 and if there is a hierarchical "inherit" permission for an ancestor, it is permitted</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - loginid to activemq</dd><dd><code>action</code> - action to check (note, if you just have sendMessage,
 it will check the inherit destinations too</dd><dd><code>destination</code> - to check</dd>
<dt><span class="strong">Returns:</span></dt><dd>the permissions</dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - </dd></dl>
</li>
</ul>
<a name="startupOnce()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startupOnce</h4>
<pre>public static&nbsp;void&nbsp;startupOnce()</pre>
</li>
</ul>
<a name="execute(org.quartz.JobExecutionContext)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>execute</h4>
<pre>public&nbsp;void&nbsp;execute(org.quartz.JobExecutionContext&nbsp;context)
             throws org.quartz.JobExecutionException</pre>
<div class="block">this will be run when the quertz nightly job fires</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>execute</code>&nbsp;in interface&nbsp;<code>org.quartz.Job</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.quartz.JobExecutionException</code></dd><dt><span class="strong">See Also:</span></dt><dd><code>Job.execute(org.quartz.JobExecutionContext)</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionAction.html" title="enum in edu.internet2.middleware.grouperActivemq.permissions"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/internet2/middleware/grouperActivemq/permissions/GrouperActivemqPermissionsEngine.html" target="_top">Frames</a></li>
<li><a href="GrouperActivemqPermissionsEngine.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
